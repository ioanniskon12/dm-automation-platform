@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Custom Animations */
@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes float-delayed {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-15px); }
}

@keyframes gradient-x {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes shimmer {
  0% { background-position: -1000px 0; }
  100% { background-position: 1000px 0; }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.3); }
  50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.6); }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes bounce-slow {
  0%, 100% { transform: translateY(0) translateX(-50%); }
  50% { transform: translateY(-10px) translateX(-50%); }
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@keyframes testimonial-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.animate-float { animation: float 6s ease-in-out infinite; }
.animate-testimonial-scroll { animation: testimonial-scroll 30s linear infinite; }
.animate-float-delayed { animation: float-delayed 5s ease-in-out infinite 1s; }
.animate-gradient-x {
  background-size: 200% 200%;
  animation: gradient-x 3s ease infinite;
}
.animate-shimmer {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  background-size: 1000px 100%;
  animation: shimmer 2s infinite;
}
.animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
.animate-slide-up { animation: slide-up 0.6s ease-out forwards; }
.animate-bounce-slow { animation: bounce-slow 3s ease-in-out infinite; }
.animate-marquee { animation: marquee 30s linear infinite; }

/* Mobile-specific utilities for flow builder */
@layer utilities {
  /* Hide on mobile, show on desktop */
  .desktop-only {
    @apply hidden md:block;
  }

  /* Show on mobile, hide on desktop */
  .mobile-only {
    @apply block md:hidden;
  }

  /* Mobile-friendly touch targets (minimum 44x44px) */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Mobile drawer/overlay background */
  .mobile-overlay {
    @apply fixed inset-0 bg-black/50 z-40 md:hidden;
  }

  /* Mobile bottom sheet */
  .mobile-bottom-sheet {
    @apply fixed inset-x-0 bottom-0 z-50 bg-white dark:bg-gray-900 rounded-t-2xl max-h-[85vh] overflow-y-auto md:hidden;
  }

  /* Mobile full-screen panel */
  .mobile-fullscreen {
    @apply fixed inset-0 z-50 bg-white dark:bg-gray-900 overflow-y-auto md:relative md:inset-auto md:z-auto;
  }

  /* Safe area padding for mobile devices with notches */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  .safe-area-top {
    padding-top: env(safe-area-inset-top, 0);
  }
}

/* Mobile slide-in animations */
@keyframes slide-in-right {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

@keyframes slide-in-bottom {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-slide-in-right { animation: slide-in-right 0.3s ease-out; }
.animate-slide-in-bottom { animation: slide-in-bottom 0.3s ease-out; }
.animate-fade-in { animation: fade-in 0.2s ease-out; }

/* ReactFlow mobile optimizations */
@media (max-width: 767px) {
  .react-flow__minimap {
    display: none !important;
  }

  /* Hide all controls on mobile - double-tap to fit view, pinch to zoom */
  .react-flow__controls {
    display: none !important;
  }

  /* Make handles larger for touch */
  .react-flow__handle {
    width: 14px !important;
    height: 14px !important;
  }

  /* Make nodes slightly more compact on mobile */
  .react-flow__node {
    touch-action: none;
  }

  /* Prevent text selection on nodes during drag */
  .react-flow__node * {
    user-select: none;
    -webkit-user-select: none;
  }
}

/* Improve touch scrolling */
.react-flow__pane {
  touch-action: pan-x pan-y pinch-zoom;
}
